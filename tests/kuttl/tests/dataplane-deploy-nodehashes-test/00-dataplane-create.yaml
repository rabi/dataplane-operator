apiVersion: network.openstack.org/v1beta1
kind: DNSMasq
metadata:
  name: dnsmasq
spec:
  replicas: 1
  options:
  - key: server
    values:
    - 192.168.122.1
  debug:
    service: false
---
apiVersion: dataplane.openstack.org/v1beta1
kind: OpenStackDataPlaneNodeSet
metadata:
  name: edpm-compute-no-nodes
spec:
  baremetalSetTemplate:
    automatedCleaningMode: metadata
    bmhNamespace: openshift-machine-api
    cloudUserName: ""
    ctlplaneInterface: ""
    ctlplaneNetmask: 255.255.255.0
    deploymentSSHSecret: ""
    hardwareReqs:
      cpuReqs:
        countReq: {}
        mhzReq: {}
      diskReqs:
        gbReq: {}
        ssdReq: {}
      memReqs:
        gbReq: {}
  preProvisioned: true
  services:
  - download-cache
  nodes: {}
  nodeTemplate:
    ansibleSSHPrivateKeySecret: dataplane-ansible-ssh-private-key-secret
    ansible:
      ansibleUser: cloud-admin
---
apiVersion: dataplane.openstack.org/v1beta1
kind: OpenStackDataPlaneDeployment
metadata:
  name: edpm-compute-no-nodes
spec:
  nodeSets:
    - edpm-compute-no-nodes
